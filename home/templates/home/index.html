{% extends "home/base.html" %}
{% load static %}
{% block body %}
<div class="headerContainer">
    <p class="pl-5 py-3">Core Builder</p>
</div>

<audio id="toneUp">
    <source src="{% static "sounds/tone_up.mp3" %}" type="audio/mp3">
</audio>
<audio id="toneDown">
    <source src="{% static "sounds/tone_down.mp3" %}" type="audio/mp3">
</audio>

<p id="test"></p>

<div class="contentContainer">
    <div class="timerPane pane text-center">
        <div class="timerTop">
            <button id="settingsButton" type="button" class="close" style="display: none;">
                <i class="fa fa-cog" onclick="openSettings()" style="font-size:25px;"></i>
            </button>
            
            <p id="currentExercise"></p>
            <p id="nextExercise"></p>
            <p id="stopwatch-display" class="mx-auto">0.00</p>
            <p id = "status"></p>

            <div class="buttonContainer mt-3">
                <button id="stopwatch-startStop" class="btn btn-success" onclick="this.blur()"></button>
                <button id="stopwatch-reset" class="btn btn-primary" onClick="this.blur()"></button>
            </div>
        </div>
        <div class="progressBar">
            <table id="progressTable">
                <thead>
                    <tr id="progressBar">
                    </tr>
                </thead>
            </table>
        </div>
    </div>

    <div id="settingsPane" class="settingsPane pane">
        <div class="settingsContent">
            <button type="button" class="close">
                <i class="fa fa-close" onclick="closeSettings()" style="font-size:25px;"></i>
            </button>


            <!-- Tab bar -->
            <div class="btn-group" role="group" >
                <button id="timingTab" type="button" class="btn btn-dark" onclick="onTimingClick();blur();">Timing</button>
                <button id="workoutTab" type="button" class="btn btn-secondary" onclick="onWorkoutClick();blur();">Workout</button>
            </div>


            <form id = "settingsForm">

                <div id="timingContainer">
                    <div class="form-group">
                    <label for="on">Working</label>
                    <input type="number" class="form-control" id="on" value="55">
                    </div>
                    <div class="form-group">
                        <label for="rest">Rest</label>
                        <input type="number" class="form-control" id="rest" value="5">
                    </div>
                    <div class="form-group">
                        <label for="reps">Reps</label>
                        <input type="number" class="form-control" id="reps" value="8">
                    </div>
                </div>

                <!-- Exercise table -->
                <table id="exerciseContainer" class="table table-striped table-hover mt-3">
                    <thead class="thead-dark">
                        <tr>
                            <th>Workout</th>
                        </tr>
                    </thead>
                    <tbody id="exerciseTable">
                    </tbody>
                </table>

                <button type="button" onclick="updateSettings()" class="btn btn-primary">Apply</button>
            </form>
        </div>
    </div>

</div>

<!-- For draggable table -->
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script> 
<script type="text/javascript">
  $('tbody').sortable();
</script>

<script id="exercises" type="application/json">{{exercises}}</script>
<script src="{% static "javascript/script.js" %}"></script>
{% endblock %}